{"ast":null,"code":"var _jsxFileName = \"/home/asus/Downloads/NOBORUPA-main/NOBORUPA/client/src/components/Products.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { popularProducts } from '../Data';\nimport styled from 'styled-components';\nimport Product from \"./Product\";\nimport { Mobile } from '../Responsive';\nimport { useLocation } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst axios = require('axios');\n\nconst Container = styled.div`\n          padding:20px;\n          display:flex;\n          flex-wrap: wrap;\n          justify-content: space-between;\n          ${Mobile({\n  padding: \"2px\"\n})}\n          \n`;\n_c = Container;\n\nconst Products = _ref => {\n  _s();\n\n  let {\n    sort,\n    filter,\n    category\n  } = _ref;\n  //  const Products = ({sort,filter,category})  here '{}' bracket is very important as without it react will ignore 'filter' & 'category' & just store  every value inside the first variable which is \"sort\" in this case\n  const [products, setProducts] = useState([]);\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const location = useLocation();\n  var url = location.pathname.split(\"/\")[1] ? location.pathname.split(\"/\")[1] : false; //   console.log(\"url\",location.pathname,url)\n\n  useEffect(() => {\n    const getProducts = async () => {\n      try {\n        // console.log(\"msg\",sort,category,filter)\n        // const res = await axios.get(\"http://localhost:5000/api/v1/products\")\n        const res = await axios.get(category ? `http://localhost:8000/api/v1/products?category=${category}` : \"http://localhost:8000/api/v1/products\");\n        setProducts(res.data);\n        console.log(res);\n      } catch (error) {}\n    };\n\n    getProducts();\n  }, [category]);\n  useEffect(() => {\n    if (url === \"products\") {\n      setFilteredProducts(products.filter(item => Object.entries(filter).every(_ref2 => {\n        let [key, value] = _ref2;\n        return item[key].includes(value);\n      })));\n    }\n  }, [products, category, filter]); // ekhane first e \n\n  useEffect(() => {\n    if (sort === \"new\") {\n      setFilteredProducts(prev => [...prev].sort((a, b) => a.createdAt - b.createdAt));\n    } else if (sort === \"aesc\") {\n      setFilteredProducts(prev => [...prev].sort((a, b) => a.price - b.price));\n    } else if (sort === \"desc\") {\n      setFilteredProducts(prev => [...prev].sort((a, b) => b.price - a.price));\n    }\n  }, [sort]);\n  console.log(sort);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: !url ? products.slice(0, 8).map(item => /*#__PURE__*/_jsxDEV(Product, {\n      item: item\n    }, item.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 62\n    }, this)) : filteredProducts.map(item => /*#__PURE__*/_jsxDEV(Product, {\n      item: item\n    }, item.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 133\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 21\n  }, this);\n};\n\n_s(Products, \"HW+rfKM1dfzhHMM5HhUob9WZAk0=\", false, function () {\n  return [useLocation];\n});\n\n_c2 = Products;\nexport default Products;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Products\");","map":{"version":3,"names":["React","useState","useEffect","popularProducts","styled","Product","Mobile","useLocation","axios","require","Container","div","padding","Products","sort","filter","category","products","setProducts","filteredProducts","setFilteredProducts","location","url","pathname","split","getProducts","res","get","data","console","log","error","item","Object","entries","every","key","value","includes","prev","a","b","createdAt","price","slice","map","id"],"sources":["/home/asus/Downloads/NOBORUPA-main/NOBORUPA/client/src/components/Products.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\n\r\n\r\nimport { popularProducts } from '../Data'\r\nimport styled from 'styled-components'\r\nimport Product from \"./Product\"\r\n\r\nimport { Mobile } from '../Responsive'\r\n\r\nimport { useLocation } from 'react-router'\r\n\r\nconst axios = require('axios')\r\n\r\nconst  Container = styled.div`\r\n          padding:20px;\r\n          display:flex;\r\n          flex-wrap: wrap;\r\n          justify-content: space-between;\r\n          ${Mobile({padding:\"2px\",})}\r\n          \r\n` \r\nconst Products = ({sort,filter,category}) => {//  const Products = ({sort,filter,category})  here '{}' bracket is very important as without it react will ignore 'filter' & 'category' & just store  every value inside the first variable which is \"sort\" in this case\r\n          const [products,setProducts] = useState([])\r\n\r\n          const[filteredProducts, setFilteredProducts]= useState([])\r\n          const location = useLocation()\r\n          var url= location.pathname.split(\"/\")[1]?location.pathname.split(\"/\")[1]:false\r\n\r\n        //   console.log(\"url\",location.pathname,url)\r\n\r\n          useEffect(()=>{\r\n                    const getProducts = async()=>{\r\n                    try {     \r\n                              // console.log(\"msg\",sort,category,filter)\r\n                              // const res = await axios.get(\"http://localhost:5000/api/v1/products\")\r\n                              const res =await axios.get( category ? `http://localhost:8000/api/v1/products?category=${category}`: \"http://localhost:8000/api/v1/products\")\r\n                              setProducts(res.data)\r\n\r\n                              console.log(res)\r\n\r\n                    } catch (error) {\r\n                                        \r\n                    }\r\n                    }\r\n                    getProducts()\r\n          },[category])\r\n\r\nuseEffect(()=>{        \r\n          if(url===\"products\"){\r\n          setFilteredProducts(products.filter((item)=> Object.entries(filter).every(([key,value])=>item[key].includes(value))))}},[products,category,filter])\r\n          // ekhane first e \r\n\r\nuseEffect(()=>{\r\n          if(sort===\"new\"){\r\n                    setFilteredProducts((prev)=>[...prev].sort((a,b)=>a.createdAt-b.createdAt))\r\n          }else if(sort ===\"aesc\"){\r\n                    setFilteredProducts((prev)=>[...prev].sort((a,b)=>a.price - b.price))\r\n          }else if(sort === \"desc\"){\r\n                    setFilteredProducts((prev)=>[...prev].sort((a,b)=> b.price - a.price))\r\n          }\r\n\r\n},[sort])\r\n\r\n\r\n          console.log(sort)\r\n          return (\r\n                    <Container>\r\n                    {!url ? products.slice(0,8).map((item)=>(<Product item={item} key={item.id}/>)) : filteredProducts.map((item)=>(<Product item={item} key={item.id}/>))}\r\n                    </Container>\r\n          )\r\n}\r\n\r\nexport default Products\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}